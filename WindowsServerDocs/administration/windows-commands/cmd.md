---
title: cmd
description: コマンドインタープリターの新しいインスタンスを開始する cmd の Windows コマンドに関するトピック。
ms.prod: windows-server
ms.technology: manage-windows-commands
ms.topic: article
ms.assetid: 6ec588db-31a9-4a73-a970-65a2c6f4abbe
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: 83b5e27017a9a0f979acec428b8ddaa73cd9d46b
ms.sourcegitcommit: b00d7c8968c4adc8f699dbee694afe6ed36bc9de
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/08/2020
ms.locfileid: "80847625"
---
# <a name="cmd"></a>cmd

コマンドインタープリター (Cmd.exe) の新しいインスタンスを開始します。 パラメーターを指定せずに使用した場合、オペレーティングシステムのバージョンおよび著作権情報**が表示さ**れます。

## <a name="syntax"></a>構文

```
cmd [/c|/k] [/s] [/q] [/d] [/a|/u] [/t:{<B><F>|<F>}] [/e:{on|off}] [/f:{on|off}] [/v:{on|off}] [<String>]
```

### <a name="parameters"></a>パラメーター

|パラメーター|説明|
|---------|-----------|
|/c|*文字列*で指定されたコマンドを実行してから停止します。|
|/k|*文字列*で指定されたコマンドを実行し、続行します。|
|/s|**/C**または **/k**の後の*文字列*の処理を変更します。|
|/q|エコーをオフにします。|
|/d|自動実行コマンドの実行を無効にします。|
|/a|内部コマンドの出力をパイプまたはファイルに米国規格協会 (ANSI) (ANSI) として書式設定します。|
|/u|内部コマンドの出力を Unicode としてパイプまたはファイルに書式設定します。|
|/t: {\<B\>\<F\>\|\<F\>}|背景 (*B*) と前景 (*F*) の色を設定します。|
|/e: オン|コマンド拡張機能を有効にします。|
|/e: off|コマンドの拡張機能を無効にします。|
|/f: オン|ファイル名とディレクトリ名の入力候補を有効にします。|
|/f: オフ|ファイル名とディレクトリ名の入力候補を無効にします。|
|/v: オン|遅延環境変数の拡張を有効にします。|
|/v: オフ|遅延環境変数の拡張を無効にします。|
|\<文字列 >|実行するコマンドを指定します。|
|/?|コマンド プロンプトでヘルプを表示します。|

次の表に、\<B\> と \<F の値として使用できる有効な16進数の数字を示し\>

|値|色|
|-----|-----|
|0|Black|
|1|青|
|2|緑|
|3|アクア|
|4|赤|
|5|紫|
|6|黄|
|7|白|
|8|灰色|
|9|薄い青|
|a|明るい緑|
|b|水色|
|c|薄い赤|
|d|淡い紫|
|e|薄い黄色|
|f|明るい白|

## <a name="remarks"></a>コメント

-   複数のコマンドの使用

    \<文字列 > に複数のコマンドを使用するには、それらをコマンド区切り記号で区切り **&&** 、引用符で囲みます。 例 :

    ```
    <Command>&&<Command>&&<Command>
    ``` 
 
-   引用符の処理

    **/C**または **/k**を指定すると、 **cmd**は*文字列*の残りの部分を処理します。引用符は、次のすべての条件が満たされている場合にのみ保持されます。  
    -   **/S**は使用しません。
    -   1組の引用符だけを使用します。
    -   引用符内に特殊文字を使用しないでください (例: & < > () @ ^ |)。
    -   引用符で囲んだ1つ以上の空白文字を使用します。
    -   引用符で囲まれた*文字列*は、実行可能ファイルの名前です。

    前の条件が満たされていない場合、*文字列*は最初の文字を調べて開始引用符であるかどうかを確認することによって処理されます。 最初の文字が開始引用符の場合は、終わりの引用符と共に削除されます。 終わりの引用符の後に続くテキストはすべて保持されます。
-   レジストリサブキーの実行

    *文字列*に **/d**を指定しない場合、cmd.exe は次のレジストリサブキーを検索します。

    **HKEY_LOCAL_MACHINE \Software\Microsoft\Command Processor\AutoRun\ REG_SZ**

    **HKEY_CURRENT_USER \Software\Microsoft\Command Processor\AutoRun\ REG_EXPAND_SZ**

    一方または両方のレジストリサブキーが存在する場合は、他のすべての変数の前に実行されます。

> [!CAUTION]
> レジストリの編集を誤ると、システムに重大な損害を与える可能性があります。 レジストリを変更する前に、コンピューター上の重要なデータのバックアップを作成する必要があります。

-   コマンド拡張機能の有効化と無効化

    Windows XP では、コマンド拡張機能は既定で有効になっています。 **/E: off**を使用して、特定のプロセスに対してこれらの設定を無効にすることができます。 次の**REG_DWORD**値を設定することにより、コンピューターまたはユーザーセッションのすべての**cmd**コマンドラインオプションに対する拡張機能を有効または無効にできます。

    **HKEY_LOCAL_MACHINE \Software\Microsoft\Command Processor\EnableExtensions\ REG_DWORD**

    **HKEY_CURRENT_USER \Software\Microsoft\Command Processor\EnableExtensions\ REG_DWORD**

    Regedit.exe を使用して、レジストリで**REG_DWORD**値を**0 × 1** (有効) または**0 × 0** (無効) のいずれかに設定します。 ユーザー指定の設定はコンピューターの設定よりも優先され、コマンドラインオプションはレジストリ設定よりも優先されます。

> [!CAUTION]
> レジストリの編集を誤ると、システムに重大な損害を与える可能性があります。 レジストリを変更する前に、コンピューター上の重要なデータのバックアップを作成する必要があります。

    When you enable command extensions, the following commands are affected:  
    -  **assoc**
    -  **call**
    -  **chdir (cd)**
    -  **color**
    -  **del (erase)**
    -  **endlocal**
    -  **for**
    -  **ftype**
    -  **goto**
    -  **if**
    -  **mkdir (md)**
    -  **popd**
    -  **prompt**
    -  **pushd**
    -  **set**
    -  **setlocal**
    -  **shift**
    -  **start** (also includes changes to external command processes)

-   遅延環境変数の拡張を有効にする

    遅延環境変数の展開を有効にした場合、感嘆符文字を使用して、実行時に環境変数の値を置き換えることができます。
-   ファイル名とディレクトリ名の入力候補を有効にする

    ファイル名とディレクトリ名の入力候補は、既定では有効になっていません。 **/F:** {**on**|**off**} を指定すると、 **cmd**コマンドの特定のプロセスに対して、ファイル名の入力候補を有効または無効にすることができます。 次の**REG_DWORD**値を設定することにより、コンピューターまたはユーザーのログオンセッションで、 **cmd**コマンドのすべてのプロセスのファイル名とディレクトリ名の入力候補を有効または無効にすることができます。

    **HKEY_LOCAL_MACHINE \Software\Microsoft\Command Processor\ REG_DWORD**

    **HKEY_LOCAL_MACHINE \Software\Microsoft\Command Processor\ path Char\ REG_DWORD**

    **HKEY_CURRENT_USER \Software\Microsoft\Command Processor\ REG_DWORD**

    **HKEY_CURRENT_USER \Software\Microsoft\Command Processor\ path Char\ REG_DWORD**

    **REG_DWORD**値を設定するには、regedit.exe を実行し、特定の関数に対して制御文字の16進数値を使用します (たとえば、 **0 × 9**は TAB、 **0 × 08**は BACKSPACE です)。 ユーザー指定の設定はコンピューターの設定よりも優先され、コマンドラインオプションはレジストリ設定よりも優先されます。

> [!CAUTION]
> レジストリの編集を誤ると、システムに重大な損害を与える可能性があります。 レジストリを変更する前に、コンピューター上の重要なデータのバックアップを作成する必要があります。

**/F: on**を使用してファイル名とディレクトリ名の入力候補を有効にした場合は、ディレクトリ名の入力候補として Ctrl + D キーを使用し、ファイル名の入力を完了するには Ctrl + f キーを使用します。 レジストリ内の特定の完了文字を無効にするには、有効な制御文字ではないため、空白の値 **[0 × 20]** を使用します。

CTRL + D キーまたは CTRL + F キーを押すと、ファイルおよびディレクトリ名の入力候補が**コマンド**によって処理されます。 これらのキーの組み合わせ関数は、ワイルドカード文字を*文字列*に追加し (存在しない場合)、一致するパスのリストを作成して、最初に一致したパスを表示します。 パスが一致しない場合、file および directory name completion 関数はビープ音を鳴らし、表示を変更しません。 一致するパスの一覧を移動するには、CTRL + D キーまたは CTRL + F キーを繰り返し押します。 リストを後方に移動するには、SHIFT キーを押しながら、CTRL + D キーまたは CTRL + F キーを同時に押します。 一致するパスの保存済みリストを破棄して新しいリストを生成するには、*文字列*を編集し、Ctrl + D キーまたは Ctrl + F キーを押します。 CTRL + D キーと CTRL + F キーを切り替えると、一致したパスの保存された一覧が破棄され、新しいリストが生成されます。 Ctrl + D キーと CTRL + F キーの組み合わせの唯一の違いは、ctrl + D キーはディレクトリ名のみと一致し、CTRL + F はファイル名とディレクトリ名の両方に一致するという点です。 組み込みのディレクトリコマンド ( **CD**、 **MD**、または**RD**) でファイル名とディレクトリ名の入力候補を使用すると、ディレクトリの補完が想定されます。

ファイル名とディレクトリ名の入力候補では、一致するパスを引用符で囲むと、空白や特殊文字を含むファイル名が正しく処理されます。

次の特殊文字には引用符が必要です。 & < > [] {} ^ =;! ' + ' ~ [空白]。

入力した情報にスペースが含まれている場合は、テキストを引用符で囲みます (コンピューター名など)。

ファイル名とディレクトリ名の入力候補を*文字列*内から処理する場合は、カーソルの右側にある*パス*の任意の部分が破棄されます (入力候補が処理された位置の*文字列*内)。

## <a name="additional-references"></a>その他の参照情報

- [コマンド ライン構文の記号](command-line-syntax-key.md)
