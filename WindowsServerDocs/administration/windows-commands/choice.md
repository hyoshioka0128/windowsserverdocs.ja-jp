---
title: choice
description: 選択コマンドの参照記事。バッチプログラムで1つの項目を選択して、選択した項目のインデックスを返すようにユーザーに要求します。
ms.topic: article
ms.assetid: c65a9119-410b-4dcf-9fa7-4e07d2a7238b
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: 6aec3af1966d0b7952f0bbb5880e373356117e42
ms.sourcegitcommit: 53d526bfeddb89d28af44210a23ba417f6ce0ecf
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/06/2020
ms.locfileid: "87880254"
---
# <a name="choice"></a>choice

バッチプログラムに含まれる1文字の選択肢の一覧から1つの項目を選択するようにユーザーに要求し、選択した選択項目のインデックスを返します。 パラメーターを指定せずに使用した場合、**選択肢**に**Y**と**N**の既定の選択肢が表示されます。

## <a name="syntax"></a>構文

```
choice [/c [<choice1><choice2><…>]] [/n] [/cs] [/t <timeout> /d <choice>] [/m <text>]
```

### <a name="parameters"></a>パラメーター

| パラメーター | 説明 |
| --------- | ----------- |
| スイッチ`<choice1><choice2><…>` | 作成する選択肢の一覧を指定します。 有効な選択肢は、a-z、a-z、0-9、および拡張 ASCII 文字 (128-254) です。 既定の一覧は YN で、として表示され `[Y,N]?` ます。 |
| /n | 選択項目の一覧を非表示にします。選択肢は引き続き有効であり、( **/m**で指定されている場合) メッセージテキストが引き続き表示されます。 |
| /cs | 選択肢で大文字と小文字を区別することを指定します。 既定では、選択肢の大文字と小文字は区別されません。 |
| /t`<timeout>` | **/D**によって指定された既定の選択を使用する前に、一時停止する秒数を指定します。 使用可能な値は**0** ~ **9999**です。 **/T**が**0**に設定されている場合、 **choice**は、既定の選択を返す前に一時停止しません。 |
| d`<choice>` | **/T**によって指定された秒数を待機した後に使用する既定のオプションを指定します。 既定の選択肢は、 **/c**によって指定された選択肢の一覧に含まれている必要があります。 |
| /m`<text>` | 選択肢の一覧の前に表示するメッセージを指定します。 **/M**が指定されていない場合は、choice プロンプトだけが表示されます。 |
| /? | コマンド プロンプトにヘルプを表示します。 |

## <a name="remarks"></a>Remarks

- **ERRORLEVEL**環境変数は、ユーザーが選択肢の一覧から選択するキーのインデックスに設定されます。 リスト内の最初の選択肢は、値、 `1` 2 番目の値、 `2` などを返します。 ユーザーが無効なキーを押すと、警告ビープ音が**鳴ります**。

- **Choice**がエラー状態を検出した場合は、の**ERRORLEVEL**値を返し `255` ます。 ユーザーが CTRL + BREAK キーまたは CTRL + C キーを押した場合、 **choice**は**ERRORLEVEL**値を返し `0` ます。

> [!NOTE]
> バッチプログラムで**ERRORLEVEL**値を使用する場合は、それらを降順に一覧表示する必要があります。

## <a name="examples"></a>例

**Y**、 **N**、 **C**の選択肢を表示するには、バッチファイルに次の行を入力します。

```
choice /c ync
```

バッチファイルで**choice**コマンドを実行すると、次のプロンプトが表示されます。

```
[Y,N,C]?
```

**Y**、 **N**、および**C**の選択肢を非表示にするには、 **[はい**]、[**いいえ**]、または [**続行**] というテキストを表示するには、バッチファイルに次の行を入力します。

```
choice /c ync /n /m Yes, No, or Continue?
```

> [!NOTE]
> **/N**パラメーターを使用していても、 **/m**を使用しない場合、ユーザーは**選択**が入力を待機しているときにプロンプトが表示されません。

前の例で使用したテキストとオプションの両方を表示するには、バッチファイルに次の行を入力します。

```
choice /c ync /m Yes, No, or Continue
```

5秒の制限時間を設定し、既定値として**N**を指定するには、バッチファイルに次の行を入力します。

```
choice /c ync /t 5 /d n
```

> [!NOTE]
> この例では、ユーザーが5秒以内にキーを押していない場合、 **choice**は既定で**N**を選択し、のエラー値を返し `2` ます。 それ以外の場合、 **choice**はユーザーの選択に対応する値を返します。

## <a name="additional-references"></a>その他の参照情報

- [コマンド ライン構文の記号](command-line-syntax-key.md)
