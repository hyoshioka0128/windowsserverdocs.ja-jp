---
title: format
description: Format コマンドの参照記事。 Windows ファイルを受け入れるようにディスクをフォーマットします。
ms.prod: windows-server
manager: dongill
ms.author: jgerend
ms.technology: storage
ms.topic: article
ms.assetid: 51ec7423-9a01-4219-868a-25d69cdcc832
author: jasongerend
ms.date: 10/16/2017
ms.openlocfilehash: 73f83a07cb1537af66d59977099b251b6dd12f47
ms.sourcegitcommit: d5e27c1f2f168a71ae272bebf8f50e1b3ccbcca3
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/23/2020
ms.locfileid: "86958224"
---
# <a name="format"></a>Format

> 適用対象: Windows 10、Windows Server 2016

Windows ファイルを受け入れるようにディスクをフォーマットします。 ハードドライブをフォーマットするには、Administrators グループのメンバーである必要があります。

> [!NOTE]
> また、回復コンソールから、さまざまなパラメーターを指定して**format**コマンドを使用することもできます。 回復コンソールの詳細については、「 [Windows 回復環境 (WINDOWS RE)](/windows-hardware/manufacture/desktop/windows-recovery-environment--windows-re--technical-reference)」を参照してください。

## <a name="syntax"></a>構文

```
format <volume> [/fs:{FAT|FAT32|NTFS}] [/v:<label>] [/q] [/a:<unitsize>] [/c] [/x] [/p:<passes>]
format <volume> [/v:<label>] [/q] [/f:<size>] [/p:<passes>]
format <volume> [/v:<label>] [/q] [/t:<tracks> /n:<sectors>] [/p:<passes>]
format <volume> [/v:<label>] [/q] [/p:<passes>]
format <volume> [/q]
```

### <a name="parameters"></a>パラメーター

| パラメーター | 説明 |
| --------- | ----------- |
| `<volume>` | フォーマットするドライブのマウントポイント、ボリューム名、またはドライブ文字 (その後にコロンを含む) を指定します。 次のいずれかのコマンドラインオプションを指定しない場合、 **format**はボリュームの種類を使用して、ディスクの既定の形式を決定します。 |
| /fs: {FAT | FAT32 | NTFS | ファイルシステムの種類 (FAT、FAT32、NTFS) を指定します。 |
| /v:`<label>` | ボリューム ラベルを指定します。 **/V**コマンドラインオプションを省略した場合、またはボリュームラベルを指定せずに使用した場合、**フォーマット**の完了後にボリュームラベルの入力が求められます。 ボリューム ラベルの入力が要求されないようにするには、構文 **/v:** を使用します。 複数のディスクをフォーマットするのに 1 つの **format** コマンドを使用すると、すべてのディスクに同じボリューム ラベルが割り当てられます。 |
| /a`<unitsize>` | FAT、FAT32、または NTFS ボリュームで使用するアロケーションユニットサイズを指定します。 *Unitsize*を指定しない場合は、ボリュームサイズに基づいて選択されます。 一般的な用途には、既定の設定を使用することを強くお勧めします。 次の一覧に、NTFS、FAT、および FAT32 *unitsize*の有効な値を示します。<ul><li>512</li><li>1024</li><li>2048</li><li>4096</li><li>8192</li><li>16K</li><li>32K</li><li>64 K</li></ul>セクター サイズが 512 バイトを超える場合は、FAT と FAT32 は 128K と 256K もサポートします。 |
| /q | クイック フォーマットを実行します。 以前にフォーマットされたボリュームのファイルテーブルとルートディレクトリを削除しますが、不良領域に対してセクターごとのスキャンを実行しません。 **/Q**コマンドラインオプションを使用して、適切な状態であることがわかっている以前にフォーマットされたボリュームのみをフォーマットする必要があります。 **/q** は **/p** をオーバーライドすることに注意してください。 |
| /f`<size>` | フォーマットするフロッピー ディスクのサイズを指定します。 可能であれば、 **/t**および **/n**コマンドラインオプションの代わりに、このコマンドラインオプションを使用します。 Windows では、サイズとして次の値を使用できます。<ul><li>1440または1440k または1440k</li><li>1.44 または 1.44 m または 1.44 mb</li><li>1.44-MB、両面、4高密度、3.5 インチディスク</li></ul> |
| /t: `<tracks>` | ディスクのトラック数を指定します。 可能であれば、代わりに **/f**コマンドラインオプションを使用してください。 **/t** オプションを使用する場合は、**/n** オプションも使用する必要があります。 これらのオプションを併用して、フォーマットするディスクのサイズを指定する代替の方法とすることができます。 **/f** オプションと同時に使用した場合、このオプションは無効です。 |
| ms-dos`<sectors>` | トラックあたりのセクター数を指定します。可能であれば、 **/n**ではなく、 **/f**コマンドラインオプションを使用します。 **/n** を使用する場合は、**/t** も使用する必要があります。 これらの 2 つのオプションを併用して、フォーマットするディスクのサイズを指定する代替の方法とすることができます。 **/f** オプションと同時に使用した場合、このオプションは無効です。 |
| /p`<passes>` | ボリューム上のゼロ間隔セクターの回数を指定します。 **/q** オプションと同時に使用した場合、このオプションは無効です。 |
| /c | NTFS のみ。 新しいボリュームに作成されるファイルが、既定で圧縮されます。 |
| /x | フォーマットされる前に、必要に応じてボリュームのマウントを解除します。 ボリュームに対して開いているハンドルは、無効になります。 |
| /? | コマンド プロンプトにヘルプを表示します。 |

#### <a name="remarks"></a>注釈

- **Format**コマンドを実行すると、新しいルートディレクトリとディスクのファイルシステムが作成されます。 また、ディスク上の不良領域を確認し、ディスク上のすべてのデータを削除することもできます。 新しいディスクを使用できるようにするには、まず、このコマンドを使用してディスクをフォーマットする必要があります。

- フロッピーディスクをフォーマットすると、次の**メッセージが表示され**ます。

    `Volume label (11 characters, ENTER for none)?`

    ボリュームラベルを追加するには、「最大11文字 (スペースを含む)」と入力します。 ボリュームラベルをディスクに追加しない場合は、enter キーを押します。

- **Format**コマンドを使用してハードディスクをフォーマットすると、次のような警告メッセージが表示されます。

  ```
  WARNING, ALL DATA ON NON-REMOVABLE DISK
  DRIVE x: WILL BE LOST!
  Proceed with Format (Y/N)? _
  ```

  ハードディスクをフォーマットするには、 **Y**キーを押します。ディスクをフォーマットしない場合は、 **N**キーを押します。

- FAT ファイルシステムでは、クラスターの数が65526以下に制限されます。 FAT32 ファイルシステムでは、クラスターの数を65527と4177917の間に制限します。

- アロケーション ユニット サイズが 4096 を超える場合、NTFS 圧縮はサポートされません。

  > [!NOTE]
  > 指定されたクラスターサイズを使用して前の要件を満たすことができない場合、**形式**はすぐに処理を停止します。

- 書式設定が完了すると、ディスク領域の合計、欠陥と**マークされ**た領域、およびファイルで使用可能な領域を示すメッセージが表示されます。

- **/Q**コマンドラインオプションを使用すると、書式設定プロセスを高速化できます。 ハード ディスクに不良セクターがない場合に限り、このオプションを使用します。

- **Subst**コマンドを使用して準備されたドライブに対して**format**コマンドを使用しないでください。 ネットワーク経由でディスクをフォーマットすることはできません。

- 次の表に、終了コードとその意味の簡単な説明を示します。

  | 終了コード | 説明 |
  | --------- | ----------- |
  | 0 | フォーマット操作が正常に完了しました。 |
  | 1 | 誤ったパラメーターが指定されました。 |
  | 4 | 致命的なエラーが発生しました (これは0、1、または5以外のエラーです)。 |
  | 5 | ユーザーは、"フォーマットの続行 (Y/N)?" というプロンプトに応答して N を押しました。 。 |

  ERRORLEVEL 環境変数と **if** バッチ コマンドを使用して、これらの終了コードを確認できます。

### <a name="examples"></a>例

既定のサイズを使用して、ドライブ A で新しいフロッピー ディスクをフォーマットするには、次のように入力します。

```
format a:
```

ドライブ A で以前にフォーマットされたフロッピー ディスクのクイック フォーマット操作を実行するには、次のように入力します。

```
format a: /q
```

ドライブ A のフロッピーディスクをフォーマットし、ボリュームラベル*データ*を割り当てるには、次のように入力します。

```
format a: /v:DATA
```

## <a name="additional-references"></a>その他のリファレンス

- [コマンド ライン構文の記号](/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/cc771080(v=ws.11))
