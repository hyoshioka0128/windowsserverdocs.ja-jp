---
title: Windows Server 2016 および Windows Server 2019 での Hyper-v のスケーラビリティの計画
description: 最大値では、コンポーネントを追加するか、Hyper-v ホストと仮想マシンから削除の数がサポートされているリストなどのメモリの量と仮想プロセッサの数。
manager: dongill
ms.topic: article
author: kbdazure
ms.author: kathydav
ms.date: 09/28/2016
ms.openlocfilehash: b22ac581a999161f796395140489ca699880e127
ms.sourcegitcommit: dfa48f77b751dbc34409aced628eb2f17c912f08
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/07/2020
ms.locfileid: "87947989"
---
# <a name="plan-for-hyper-v-scalability-in-windows-server-2016-and-windows-server-2019"></a>Windows Server 2016 および Windows Server 2019 での Hyper-v のスケーラビリティの計画

> 適用先:Windows Server 2019、Windows Server 2016

この記事では、コンポーネントを追加し、HYPER-V ホストまたは仮想マシンは、仮想プロセッサなどのチェックポイントの削除の最大数の構成の詳細を示します。 展開を計画する際は、各仮想マシンだけでなく、Hyper-v ホストに適用されるものに適用される最大値を検討してください。

メモリおよび論理プロセッサの最大値は、machine learning およびデータの分析などの新しいシナリオをサポートする要求に対する応答として Windows Server 2012 から最大の増加です。 Windows Server のブログと 5.5 数テラバイト メモリと 4 TB のメモリ内のデータベースを実行している 128 の仮想プロセッサの仮想マシンのパフォーマンスの結果が最近発行されました。 物理サーバーのパフォーマンスが95% を超えています。 詳細については、「 [メモリ内のトランザクション処理が大規模な VM パフォーマンスを Windows Server 2016 HYPER-V](https://blogs.technet.microsoft.com/windowsserver/2016/09/28/windows-server-2016-hyper-v-large-scale-vm-performance-for-in-memory-transaction-processing/)します。 その他の番号は、Windows Server 2012 に適用されるものと似ています。 \(Windows Server 2012 R2 の最大値は、Windows Server 2012 の場合と同じでした。\)

> [!NOTE]
> System Center Virtual Machine Manager (VMM) についての情報を参照してください。 [Virtual Machine Manager](https://technet.microsoft.com/system-center-docs/vmm/vmm)します。 VMM は仮想データ センターを管理するためのマイクロソフト製品であり、別途購入する必要があります。

## <a name="maximums-for-virtual-machines"></a>仮想マシンの最大値
これらの最大値は、各仮想マシンに適用されます。 すべてのコンポーネントは、両方の世代の仮想マシンで使用できます。 世代の比較では、次を参照してください。 [Hyper-v にジェネレーション 1 または 2 仮想マシンを作成する必要がありますか。](should-i-create-a-generation-1-or-2-virtual-machine-in-hyper-v.md)

|コンポーネント|最大値|メモ|
|-------------|-----------|---------|
|チェックポイント|50|実際の数は、利用可能な記憶域に応じて少なくなる場合があります。 各チェックポイントは、物理記憶域を使用する .avhd ファイルとして保存されます。|
|メモリ|ジェネレーション 2; 12 TB <br>第 1 世代の場合、1 TB|特定のオペレーティング システムの要件を確認して、最大値および推奨値を決定してください。|
|シリアル (COM) ポート|2|[なし] :|
|仮想マシンに直接接続された物理ディスクのサイズ|場合により異なる|最大サイズは、ゲスト オペレーティング システムに応じて決まります。|
|仮想ファイバー チャネル アダプター|4|ベスト プラクティスとして、各仮想ファイバー チャネル アダプターを異なる仮想 SAN に接続することをお勧めします。|
|仮想フロッピー デバイス|1 仮想フロッピー デバイス|[なし] :|
|仮想ハード ディスクの容量|64 TB の VHDX 形式です。<br>VHD 形式の 2040 GB|各仮想ハード ディスクは、使用されている形式に応じて、.vhdx ファイルまたは .vhd ファイルとして物理メディア上に格納されます。|
|仮想 IDE ディスク|4|(ブート ディスクとも呼ばれます) 起動ディスクは、IDE デバイスのいずれかに接続する必要があります。 起動ディスクは、仮想マシンに直接接続されている仮想ハード ディスクまたは物理ディスクのいずれかです。|
|仮想プロセッサの数|ジェネレーション 2 の 240<br>ジェネレーション 1 の場合は 64<br>ホスト OS (ルート パーティション) で使用できる 320|ゲスト オペレーティング システムでサポートされる仮想プロセッサの数は、より少ない場合があります。 詳細については、特定のオペレーティング システムに対して発行された情報を参照してください。|
|仮想 SCSI ドメイン コントローラー|4|仮想 SCSI デバイスの使用には、integration services は、サポート対象のゲスト オペレーティング システムで利用可能である必要があります。 詳細についてはオペレーティング システムがサポートされている、次を参照してください。 [サポートされている Linux および FreeBSD の仮想マシン](../Supported-Linux-and-FreeBSD-virtual-machines-for-Hyper-V-on-Windows.md) と [サポートされている Windows ゲスト オペレーティング システム](../supported-windows-guest-operating-systems-for-hyper-v-on-windows.md)します。|
|仮想 SCSI ディスク数|256|各 SCSI コントローラーが最大 64 台のディスクをサポートします。つまり、各仮想マシンに最大 256 台の SCSI ディスクを構成できます (4 つのコントローラー×コントローラーごとに 64 台のディスク)。|
|仮想ネットワーク アダプター|Windows Server 2016 は、次の合計12個をサポートしています。<br> -8 つの HYPER-V で特定のネットワーク アダプター<br>-4 つのレガシ ネットワーク アダプター <br> Windows Server 2019 では、合計68がサポートされています。 <br> -64 hyper-v 固有のネットワークアダプター<br>-4 つのレガシ ネットワーク アダプター  |HYPER-V の特定のネットワーク アダプターでは、パフォーマンスが向上と、統合サービスに含まれるドライバーが必要です。 詳細については、「 [Windows Server での hyper-v ネットワークの計画](plan-hyper-v-networking-in-windows-server.md)」を参照してください。|

## <a name="maximums-for-hyper-v-hosts"></a>HYPER-V ホストの最大値
これらの最大値は、各 HYPER-V ホストに適用されます。

|コンポーネント|最大値|メモ|
|-------------|-----------|---------|
|論理プロセッサ|512|ファームウェアでは、これらの両方を有効にする必要があります。<p>-ハードウェア依存の仮想化<br />-ハードウェアによるデータ実行防止 (DEP)<p>ホスト OS (ルート パーティション) は、最大 320 の論理プロセッサにのみ表示されます。|  
|メモリ|24 TB|[なし] :|
|ネットワーク アダプター チーム (NIC チーミング)|Hyper-V による制限はありません。|詳細については、「 [NIC チーミング](../../../networking/technologies/nic-teaming/NIC-Teaming.md)します。|
|物理ネットワーク アダプター|Hyper-V による制限はありません。|[なし] :|
|サーバーごとに実行される仮想マシン|1024|[なし] :|
|記憶域|による制限は、ホスト オペレーティング システムでサポートされています。 Hyper-V による制限はありません。|**注:** マイクロソフトは、SMB 3.0 を使用する場合、ネットワーク接続ストレージ (NAS) をサポートしています。 NFS ベースのストレージはサポートされません。|
|サーバーごとの仮想ネットワーク スイッチ ポート|状況によって異なり、Hyper-V による制限はありません。|実際の制限は、利用可能なコンピューティング リソースによって異なります。|
|論理プロセッサごとの仮想プロセッサ|Hyper-V による比率はありません。|[なし] :|
|サーバーごとの仮想プロセッサ|2048|[なし] :|
|仮想記憶域ネットワーク (SAN)|Hyper-V による制限はありません。|[なし] :|
|仮想スイッチ|状況によって異なり、Hyper-V による制限はありません。|実際の制限は、利用可能なコンピューティング リソースによって異なります。|

## <a name="failover-clusters-and-hyper-v"></a>フェールオーバー クラスターと Hyper-V
このテーブルは、HYPER-V とフェールオーバー クラスタ リングの使用時に適用する最大値を示します。 容量計画のすべての仮想マシンをクラスター化された環境で実行するのに十分なハードウェア リソースがあることを確認するために重要です。

仮想マシンについて、新機能を含むフェールオーバー クラスタ リングの更新の詳細についてを参照してください。 [Windows Server 2016 のフェールオーバー クラスタ リングの新](../../../failover-clustering/whats-new-in-failover-clustering.md)します。

|コンポーネント|最大値|メモ|
|-------------|-----------|---------|
|クラスターごとのノード|64|フェールオーバー用に予約するノード数と、更新の適用などの保守タスクを考慮してください。 1 つのノードをフェールオーバー用に予約するのに十分なリソースを計画することをお勧めします。別のノードからのフェールオーバーが実行されるまで、そのノードはアイドル状態になります。 (これはパッシブノードと呼ばれることもあります)。追加のノードを予約する場合は、この数を増やすことができます。 推奨される比率またはアクティブなノードの予約されたノードの乗数はありません。唯一の要件は、クラスター内のノードの合計数が最大 64 個を超えることはできません。|
|クラスターごと、およびノードごとに実行する仮想マシン|クラスターごとに 8,000|いくつかの要因は、仮想マシンが終わったら、同時に 1 つのノードなどの実数に影響があります。<br />各仮想マシンで使用される物理メモリの量。<br />-ネットワークと記憶域の帯域幅。<br />-ディスク スピンドルの数、ディスク I/O パフォーマンスに影響します。|


