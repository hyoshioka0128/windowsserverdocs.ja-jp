---
ms.assetid: 22f53391-8c6a-4873-a1f4-08b4760ea621
title: 要求の役割
author: billmath
ms.author: billmath
manager: femila
ms.date: 05/31/2017
ms.topic: article
ms.openlocfilehash: eb41b8168024a231282716e5edd0bc59554d7da6
ms.sourcegitcommit: dfa48f77b751dbc34409aced628eb2f17c912f08
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/07/2020
ms.locfileid: "87937825"
---
# <a name="the-role-of-claims"></a>要求の役割

要求ベースの \- id モデルでは、要求はフェデレーションプロセスで非常に重要な役割を果たします。これは、すべての Web \- ベースの認証および承認要求の結果が決定される主要なコンポーネントです。 このモデルを使用することで、組織はデジタル ID とアクセス権、つまり*要求*をセキュリティや企業の境界を越えて、標準化された方法で安全に提示できるようになります。

## <a name="what-are-claims"></a>要求とは

最も単純な形式では、要求*statements*は単純に、 \( ユーザーに対して作成された名前、id、グループなどのステートメントです。これは主に、 \) \- インターネット上の任意の場所に配置された要求ベースのアプリケーションへのアクセスを承認するために使用されます。 各ステートメントは、要求に格納される*値*に対応します。

### <a name="how-claims-are-sourced"></a>要求の提供元

Active Directory フェデレーションサービス (AD FS) AD FS のフェデレーションサービスは、 \( \) フェデレーションパートナー間で交換される要求を定義します。 ただし、この定義を行う前に、取得または計算された値を要求に格納または提供する必要があります。 各要求の値は、ユーザー、グループ、またはエンティティの値を表し、次の 2 つのいずれかの方法で提供されます。

1.  要求を構成する値が属性ストアから取得される場合。たとえば、属性値 Sales Department が Active Directory ユーザー アカウントのプロパティから取得されるような場合です。 詳細については、「[属性ストアの役割](The-Role-of-Attribute-Stores.md)」を参照してください。

2.  入力方向の要求の値が、規則で表されているロジックに基づいて別の値に変換される場合。 たとえば、入力方向の要求に含まれる Domain Admins という値が、出力方向の要求として送信される前に新しい値 Administrators に変換されるような場合です。 詳細については、「[要求規則の役割](The-Role-of-Claim-Rules.md)」を参照してください。

要求には、電子 \- メールアドレス、ユーザープリンシパル名 \( UPN \) 、グループメンバーシップ、およびその他のアカウント属性などの値を含めることができます。

### <a name="how-claims-flow"></a>要求のフロー

他の当事者は、 \- 自身がホストする Web ベースアプリケーションに対して承認タスクを実行するために、要求の値に依存します。 これらのパーティは、AD FS 管理スナップインで*証明書利用者*と呼ばれ \- ます。 フェデレーションサービスは、多数の異なるパーティ間で信頼を仲介する役割を担います。 これは、要求を最初に送信する組織 (AD FS 管理スナップインの*要求プロバイダー*とも呼ばれます) から証明書利用者への、信頼性のある要求の交換を処理およびフローするように設計されてい \- ます。 証明書利用者は、受け取った要求を使用して承認の判断を下します。

このようなプロセスを実行する要求のフローを*要求パイプライン*と呼びます。 要求パイプラインでの要求のフローは、次の 3 つのステップから構成されます。

1.  要求プロバイダーから受け取った要求は、要求プロバイダー信頼の受け入れ変換規則によって処理されます。 これらの規則は、要求プロバイダーから受け入れる要求を決定します。

2.  受け入れ変換規則の出力は、発行承認規則の入力として使用されます。 これらの規則は、ユーザーが証明書利用者へのアクセスを許可されるかどうかを決定します。

3.  受け入れ変換規則の出力は、発行変換規則の入力として使用されます。 これらの規則は、証明書利用者に送信される要求を決定します。

詳細については、「[要求パイプラインの役割](The-Role-of-the-Claims-Pipeline.md)」を参照してください。

### <a name="how-claims-are-issued"></a>要求の発行

要求規則を記述する場合、要求規則の入力方向の要求のソースは、要求プロバイダー信頼または証明書利用者信頼のどちらの規則を記述するかによって異なります。 要求プロバイダー信頼の要求規則を記述する場合、入力方向の要求は、信頼される要求プロバイダーからフェデレーション サービスに送信される要求です。 証明書利用者信頼の要求規則を記述する場合、入力方向の要求は、該当する要求プロバイダー信頼の要求規則によって出力される要求です。 入力方向と出力方向の要求に関する詳細については、「[要求パイプラインの役割](The-Role-of-the-Claims-Pipeline.md)」および「[要求エンジンの役割](The-Role-of-the-Claims-Engine.md)」を参照してください。

## <a name="what-are-claim-types"></a>要求の種類とは

要求の種類は、要求の値のコンテキストを提供します。 通常、これは Uniform Resource Identifier URI として表され \( \) ます。 AD FS は任意の要求の種類をサポートでき、既定では次の表の要求の種類で構成されます。

|名前|説明|URI|
|--------|---------------|-------|
|電子 \- メールアドレス|\-ユーザーの電子メールアドレス|http: \/ \/schemas.xmlsoap.org \/ ws \/ 2005 \/ 05 \/ id \/ 要求 \/ emailaddress|
|名|ユーザーの姓名の名|http: \/ \/schemas.xmlsoap.org \/ ws \/ 2005 \/ 05 \/ id \/ 要求 \/ givenname|
|名前|ユーザーの一意の名前|http: \/ \/schemas.xmlsoap.org \/ ws \/ 2005 \/ 05 \/ id \/ 要求 \/ 名|
|UPN|ユーザーのユーザープリンシパル名 \( UPN \)|http: \/ \/schemas.xmlsoap.org \/ ws \/ 2005 \/ 05 \/ id \/ 要求 \/ upn|
|共通名|ユーザーの共通名|http: \/ \/schemas.xmlSoap.org \/ 要求 \/ commonname|
|AD FS 1.x 電子 \- メールアドレス|\-AD FS 1.1 または ADFS 1.0 と相互運用するときのユーザーの電子メールアドレス|http: \/ \/schemas.xmlSoap.org \/ claim \/ EmailAddress|
|グループ|ユーザーが属するグループ|http: \/ \/schemas.xmlSoap.org \/ 要求 \/ グループ|
|AD FS 1.x UPN|AD FS 1.1 または AD FS 1.0 と相互運用するときのユーザーの UPN|http: \/ \/schemas.xmlSoap.org \/ 要求 \/ UPN|
|Role|ユーザーの役割|http: \/ \/ schemas.microsoft.com \/ ws \/ 2008 \/ 06 \/ id \/ 要求 \/ ロール|
|Surname|ユーザーの姓名の姓|http: \/ \/schemas.xmlsoap.org \/ ws \/ 2005 \/ 05 \/ id \/ 要求 \/ 姓|
|PPID|ユーザーの個人識別子|http: \/ \/schemas.xmlsoap.org \/ ws \/ 2005 \/ 05 \/ id \/ 要求 \/ privatepersonalidentifier|
|名前識別子|ユーザーの SAML 名前識別子|http: \/ \/schemas.xmlsoap.org \/ ws \/ 2005 \/ 05 \/ id \/ 要求 \/ nameidentifier|
|認証方法|ユーザー認証に使用される方法|http: \/ \/ schemas.microsoft.com \/ ws \/ 2008 \/ 06 \/ id \/ 要求 \/ authenticationmethod|
|拒否専用グループ SID|\-ユーザーの拒否専用グループ SID|http: \/ \/schemas.xmlsoap.org \/ ws \/ 2005 \/ 05 \/ id \/ 要求の \/ denyonlysid|
|拒否専用プライマリ SID|\-ユーザーの拒否専用プライマリ SID|http: \/ \/ schemas.microsoft.com \/ ws \/ 2008 \/ 06 \/ identity \/ claim \/ denyonlyprimarysid|
|拒否専用プライマリ グループ SID|\-ユーザーの拒否専用プライマリグループ SID|http: \/ \/ schemas.microsoft.com \/ ws \/ 2008 \/ 06 \/ identity \/ claim \/ denyonlyprimarygroupsid|
|グループ SID|ユーザーのグループ SID|http: \/ \/ schemas.microsoft.com \/ ws \/ 2008 \/ 06 \/ id \/ 要求 \/ groupsid|
|プライマリ グループ SID|ユーザーのプライマリ グループ SID|http: \/ \/ schemas.microsoft.com \/ ws \/ 2008 \/ 06 \/ id \/ 要求 \/ primarygroupsid|
|プライマリ SID|ユーザーのプライマリ SID|http: \/ \/ schemas.microsoft.com \/ ws \/ 2008 \/ 06 \/ id \/ 要求 \/ primarysid|
|Windows アカウント名|の形式でユーザーのドメインアカウント名を指定します。\<domain\>\\\<user\>|http: \/ \/ schemas.microsoft.com \/ ws \/ 2008 \/ 06 \/ id \/ 要求 \/ windowsaccountname|

## <a name="what-are-claim-descriptions"></a>要求記述とは

要求の説明は、AD FS がサポートしていて、フェデレーションメタデータで公開できる要求の種類の一覧を表します。 前の表に記載されている要求の種類は、AD FS 管理スナップインで要求の説明として構成されてい \- ます。

フェデレーション メタデータに公開される要求記述のコレクションは、AD FS 構成データベースに格納されます。 これらの要求記述は、フェデレーション サービスのさまざまなコンポーネントで使用されます。

各要求記述には、要求の種類の URI、名前、公開状態、および説明が含まれています。 要求記述のコレクションを管理するには、AD FS 管理スナップインの [**要求の説明**] ノードを使用し \- ます。 要求の説明の発行状態は、スナップインを使用して変更でき \- ます。 次の設定を使用できます。

- この**フェデレーションサービスが受け入れることができる要求の種類として、フェデレーションメタデータにこの要求を発行します** \([承認済みとして公開 \) する: このフェデレーションサービスによって他の要求プロバイダーから受け入れられる要求の種類を示します。

- この**フェデレーションサービスが送信できる要求の種類として、フェデレーションメタデータにこの要求を発行します** \(発行済みとして公開 \) —このフェデレーションサービスによって提供される要求の種類を示します。 これらは、フェデレーション サービスが送信できる要求として公開する要求の種類です。 要求プロバイダーによって送信される実際の要求の種類は、多くの場合、このリストのサブセットとなります。

要求の種類の公開状態を設定する方法の詳細については、AD FS デプロイガイドの「[要求の説明を追加](../operations/add-a-claim-description.md)する」を参照してください。

### <a name="when-generating-federation-metadata"></a>フェデレーション メタデータの生成

フェデレーション メタデータには、公開対象としてマークされているすべての要求記述が含まれます。

### <a name="when-claims-rules-are-processed"></a>要求規則の処理

要求記述に関する構成情報を保持しておくと、要求に関する規則を簡単に構成できます。 要求プロバイダー組織で使用できる要求規則の詳細については、「[要求規則の役割](The-Role-of-Claim-Rules.md)」を参照してください。
