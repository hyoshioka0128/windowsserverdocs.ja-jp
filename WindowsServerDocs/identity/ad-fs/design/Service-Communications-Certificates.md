---
ms.assetid: 95e82190-68c5-4e40-87b1-f1bd816ef4e9
title: サービス通信証明書
author: billmath
ms.author: billmath
manager: femila
ms.date: 05/31/2017
ms.topic: article
ms.openlocfilehash: 377b6f9053a5805f6a13f6a865185da6965f9966
ms.sourcegitcommit: dfa48f77b751dbc34409aced628eb2f17c912f08
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/07/2020
ms.locfileid: "87972079"
---
# <a name="service-communications-certificates"></a>サービス通信証明書

フェデレーションサーバーでは、WCF メッセージセキュリティを使用するシナリオにサービス通信証明書を使用する必要があります。

## <a name="service-communication-certificate-requirements"></a>サービス通信証明書の要件
AD FS を操作するには、サービス通信証明書が次の要件を満たしている必要があります。

-   サービス通信証明書には、サーバー認証の拡張キー使用法 EKU 拡張機能が含まれている必要があり \( \) ます。

-   証明書失効リストには、 \( \) サービス通信証明書からルート CA 証明書まで、チェーン内のすべての証明書に対して crl がアクセス可能である必要があります。 また、ルート CA は、フェデレーションサーバープロキシと、このフェデレーションサーバーを信頼する Web サーバーによって信頼されている必要があります。

-   サービス通信証明書で使用されるサブジェクト名は、フェデレーションサービスのプロパティのフェデレーションサービス名と一致している必要があります。

## <a name="deployment-considerations-for-service-communication-certificates"></a>サービス通信証明書の展開に関する考慮事項
すべてのフェデレーションサーバーが同じ証明書を使用するように、サービス通信証明書を構成します。 フェデレーション Web シングル \- サイン \- オン SSO 設計を展開する場合は \( \) 、サービス通信証明書をパブリック CA によって発行することをお勧めします。 これらの証明書は、IIS マネージャースナップインを使用して要求およびインストールすることができ \- ます。

\-テストラボ環境のフェデレーションサーバーでは、自己署名されたサービス通信証明書を正常に使用できます。 ただし、運用環境では、パブリック CA からサービス通信証明書を取得することをお勧めします。 ライブデプロイでは、自己署名された \- サービス通信証明書を使用してはならない理由は次のとおりです。

-   自己署名された \- SSL 証明書は、リソースパートナー組織の各フェデレーションサーバーの信頼されたルートストアに追加する必要があります。 これだけでは、攻撃者がリソースフェデレーションサーバーを侵害することを防ぐことはできませんが、自己 \- 署名証明書を信頼すると、コンピューターの攻撃対象領域が増え、証明書署名者が信頼できない場合にセキュリティの脆弱性が生じる可能性があります。

-   不適切なユーザーエクスペリエンスが作成されます。 クライアントは、"信頼されていない会社によって発行されたセキュリティ証明書" というメッセージを表示するフェデレーションリソースにアクセスしようとすると、セキュリティ警告プロンプトを受け取ります。 自己 \- 署名証明書は信頼されていないため、これは予期される動作です。

    > [!NOTE]
    > 必要に応じて、グループポリシーを使用して、 \- AD FS サイトへのアクセスを試みる各クライアントコンピューターの信頼されたルートストアに自己署名入り証明書を手動でプッシュダウンすることで、この状態を回避できます。

-   Ca \- は、自己署名証明書によって提供されない秘密キーのアーカイブ、更新、失効など、証明書ベースの追加機能を提供し \- ます。


