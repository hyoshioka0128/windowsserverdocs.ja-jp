---
ms.assetid: 017b88a6-f29b-4787-99b6-b5c8eaf8c3df
title: 付録 F-Active Directory で Domain Admins グループを保護する
description: ''
author: MicrosoftGuyJFlo
ms.author: joflore
manager: mtillman
ms.date: 05/31/2017
ms.topic: article
ms.prod: windows-server
ms.technology: identity-adds
ms.openlocfilehash: 4f453aa9f076b0272821849840106dae0c52fbbc
ms.sourcegitcommit: 6aff3d88ff22ea141a6ea6572a5ad8dd6321f199
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/27/2019
ms.locfileid: "71408691"
---
# <a name="appendix-f-securing-domain-admins-groups-in-active-directory"></a>付録 F: Active Directory の Domain Admins グループをセキュリティで保護する

>適用対象: Windows Server 2016、Windows Server 2012 R2、Windows Server 2012


## <a name="appendix-f-securing-domain-admins-groups-in-active-directory"></a>付録 F: Active Directory の Domain Admins グループをセキュリティで保護する  
Enterprise Admins (EA) グループの場合と同様に、ドメイン管理者 (DA) グループのメンバーシップは、ビルドまたはディザスターリカバリーのシナリオでのみ必要になります。 [「付録 D: Active Directory での組み込みの管理者アカウントのセキュリティ保護](../../../ad-ds/plan/security-best-practices/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory.md)」の説明に従って保護されている場合は、ドメインの組み込みの administrator アカウントを除き、日常のユーザーアカウントが DA グループに存在しないようにする必要があります。  

ドメイン管理者は、既定では、各ドメインのすべてのメンバーサーバーおよびワークステーション上のローカル Administrators グループのメンバーになります。 この既定の入れ子は、サポート性とディザスターリカバリーのために変更しないでください。 ドメイン管理者がメンバーサーバーのローカルの Administrators グループから削除されている場合は、ドメイン内の各メンバーサーバーおよびワークステーションの Administrators グループにグループを追加する必要があります。 各ドメインの Domain Admins グループは、後で説明する手順に従ってセキュリティで保護する必要があります。  

フォレスト内の各ドメインの Domain Admins グループについて、次のようにします。  

1.  [「付録 D: Active Directory での組み込み管理者アカウントのセキュリティ保護](../../../ad-ds/plan/security-best-practices/Appendix-D--Securing-Built-In-Administrator-Accounts-in-Active-Directory.md)」の説明に従ってセキュリティで保護されている場合は、グループからすべてのメンバーを削除します。  

2.  各ドメインのメンバーサーバーとワークステーションが含まれている Ou にリンクされた Gpo では、**コンピューター Configuration\Policies\Windows の 権利**\ ユーザー権利の割り当てにおいて、次のユーザー権利に DA グループを追加する必要があります。  

    -   ネットワークからのこのコンピューターへのアクセスを拒否する  

    -   バッチ ジョブとしてのログオンを拒否  

    -   サービスとしてのログオンを拒否  

    -   ローカル ログオンを拒否  

    -   リモートデスクトップサービスのユーザー権限によるログオンを拒否する  

3.  Domain Admins グループのプロパティまたはメンバーシップに何らかの変更が加えられた場合にアラートを送信するように監査を構成する必要があります。  

#### <a name="step-by-step-instructions-for-removing-all-members-from-the-domain-admins-group"></a>Domain Admins グループからすべてのメンバーを削除するための詳細な手順  

1.  **サーバーマネージャー**で、 **[ツール]** をクリックし、 **[Active Directory ユーザーとコンピューター]** をクリックします。  

2.  DA グループからすべてのメンバーを削除するには、次の手順を実行します。  

    1.  **Domain Admins**グループをダブルクリックし、 **[メンバー]** タブをクリックします。  

        ![セキュリティで保護されたドメイン管理者グループ](media/Appendix-F--Securing-Domain-Admins-Groups-in-Active-Directory/SAD_62.gif)  

    2.  グループのメンバーを選択し、 **[削除]** をクリックして、 **[はい]** をクリックし、 **[OK]** をクリックします。  

3.  DA グループのすべてのメンバーが削除されるまで、手順 2. を繰り返します。  

#### <a name="step-by-step-instructions-to-secure-domain-admins-in-active-directory"></a>Active Directory で Domain Admins をセキュリティで保護するための詳細な手順  

1.  **サーバーマネージャー**で、 **[ツール]** をクリックし、 **[グループポリシーの管理]** をクリックします。  

2.  コンソールツリーで、\<\>フォレスト を展開して \\ドメイン\\\<ドメイン\> を展開して**グループポリシーオブジェクト**(\<のフォレスト\> はフォレストの名前、\<ドメイン\> はグループポリシーを設定するドメインの名前です)。  

3.  コンソールツリーで、 **[グループポリシーオブジェクト]** を右クリックし、 **[新規]** をクリックします。  

    ![セキュリティで保護されたドメイン管理者グループ](media/Appendix-F--Securing-Domain-Admins-Groups-in-Active-Directory/SAD_63.gif)  

4.  **[新しい gpo]** ダイアログボックスで、「\<gpo 名\>」と入力し、 **[OK]** をクリックします (\<gpo 名\> はこの gpo の名前です)。  

    ![セキュリティで保護されたドメイン管理者グループ](media/Appendix-F--Securing-Domain-Admins-Groups-in-Active-Directory/SAD_64.gif)  

5.  詳細ウィンドウで、[\<GPO 名\>] を右クリックし、 **[編集]** をクリックします。  

6.  **Computer Configuration\Policies\Windows** 権利 ポリシー に移動し、**ユーザー権利の割り当て** をクリックします。  

    ![セキュリティで保護されたドメイン管理者グループ](media/Appendix-F--Securing-Domain-Admins-Groups-in-Active-Directory/SAD_65.gif)  

7.  Domain Admins グループのメンバーがネットワーク経由でメンバーサーバーおよびワークステーションにアクセスできないようにするには、次の手順を実行してユーザーの権限を構成します。  

    1.  **[ネットワークからこのコンピューターへのアクセスを拒否する]** をダブルクリックし、 **[これらのポリシー設定を定義]** する を選択します。  

    2.  **[ユーザーまたはグループの追加]** をクリックし、 **[参照]** をクリックします。  

    3.  「 **Domain Admins**」と入力し、 **[名前の確認]** をクリックして、 **[OK]** をクリックします。  

        ![セキュリティで保護されたドメイン管理者グループ](media/Appendix-F--Securing-Domain-Admins-Groups-in-Active-Directory/SAD_66.gif)  

    4.  **[Ok]** をクリックし、もう一度 [ **ok]** をクリックします。  

8.  次の手順を実行して、DA グループのメンバーがバッチジョブとしてログオンしないようにするには、ユーザーの権限を構成します。  

    1.  **[バッチジョブとしてログオンを拒否する]** をダブルクリックし、 **[これらのポリシー設定を定義]** する を選択します。  

    2.  **[ユーザーまたはグループの追加]** をクリックし、 **[参照]** をクリックします。  

    3.  「 **Domain Admins**」と入力し、 **[名前の確認]** をクリックして、 **[OK]** をクリックします。  

        ![セキュリティで保護されたドメイン管理者グループ](media/Appendix-F--Securing-Domain-Admins-Groups-in-Active-Directory/SAD_67.gif)  

    4.  **[Ok]** をクリックし、もう一度 [ **ok]** をクリックします。  

9. 次の手順を実行して、DA グループのメンバーがサービスとしてログオンしないようにするには、ユーザーの権限を構成します。  

    1.  **[サービスとしてログオンを拒否する]** をダブルクリックし、 **[これらのポリシー設定を定義]** する を選択します。  

    2.  **[ユーザーまたはグループの追加]** をクリックし、 **[参照]** をクリックします。  

    3.  「 **Domain Admins**」と入力し、 **[名前の確認]** をクリックして、 **[OK]** をクリックします。  

        ![セキュリティで保護されたドメイン管理者グループ](media/Appendix-F--Securing-Domain-Admins-Groups-in-Active-Directory/SAD_68.gif)  

    4.  **[Ok]** をクリックし、もう一度 [ **ok]** をクリックします。  

10. Domain Admins グループのメンバーがローカルのメンバーサーバーおよびワークステーションにログオンしないようにするには、次の手順を実行して、ユーザーの権限を構成します。  

    1.  [**ローカルでログオンを拒否**する] をダブルクリックし、[**これらのポリシーの設定を定義**する] を選択します。  

    2.  **[ユーザーまたはグループの追加]** をクリックし、 **[参照]** をクリックします。  

    3.  「 **Domain Admins**」と入力し、 **[名前の確認]** をクリックして、 **[OK]** をクリックします。  

        ![セキュリティで保護されたドメイン管理者グループ](media/Appendix-F--Securing-Domain-Admins-Groups-in-Active-Directory/SAD_69.gif)  

    4.  **[Ok]** をクリックし、もう一度 [ **ok]** をクリックします。  

11. Domain Admins グループのメンバーがリモートデスクトップサービス経由でメンバーサーバーおよびワークステーションにアクセスできないようにするには、次の手順を実行してユーザーの権限を構成します。  

    1.  [**リモートデスクトップサービスのログオンを拒否**する] をダブルクリックし、[**これらのポリシーの設定を定義**する] を選択します。  

    2.  **[ユーザーまたはグループの追加]** をクリックし、 **[参照]** をクリックします。  

    3.  「 **Domain Admins**」と入力し、 **[名前の確認]** をクリックして、 **[OK]** をクリックします。  

        ![セキュリティで保護されたドメイン管理者グループ](media/Appendix-F--Securing-Domain-Admins-Groups-in-Active-Directory/SAD_70.gif)  

    4.  **[Ok]** をクリックし、もう一度 [ **ok]** をクリックします。  

12. **グループポリシー管理エディター**を終了するには、 **[ファイル]** をクリックし、 **[終了]** をクリックします。  

13. グループポリシー管理で、次の手順に従って、GPO をメンバーサーバーとワークステーションの Ou にリンクします。  

    1.  \<フォレスト\>\ Domains\\\<ドメイン\> に移動します (\<Forest\> はフォレストの名前、\<ドメイン\> はグループポリシーを設定するドメインの名前です)。  

    2.  GPO が適用される OU を右クリックし、[既存の**gpo のリンク**] をクリックします。  

        ![セキュリティで保護されたドメイン管理者グループ](media/Appendix-F--Securing-Domain-Admins-Groups-in-Active-Directory/SAD_71.gif)  

    3.  作成した GPO を選択し、[ **OK]** をクリックします。  

        ![セキュリティで保護されたドメイン管理者グループ](media/Appendix-F--Securing-Domain-Admins-Groups-in-Active-Directory/SAD_72.gif)  

    4.  ワークステーションが含まれている他のすべての Ou へのリンクを作成します。  

    5.  メンバーサーバーを含む他のすべての Ou へのリンクを作成します。  

        > [!IMPORTANT]  
        > ジャンプサーバーを使用してドメインコントローラーと Active Directory を管理する場合は、この Gpo がリンクされていない OU にジャンプサーバーが配置されていることを確認します。  

#### <a name="verification-steps"></a>検証手順  

##### <a name="verify-deny-access-to-this-computer-from-the-network-gpo-settings"></a>[ネットワークからこのコンピューターへのアクセスを拒否する] GPO 設定を確認する  
GPO の変更 ("ジャンプサーバー" など) の影響を受けていないメンバーサーバーまたはワークステーションから、GPO の変更の影響を受けるネットワーク経由でメンバーサーバーまたはワークステーションにアクセスしようとします。 GPO 設定を確認するには、 **NET use**コマンドを使用してシステムドライブをマップします。  

1.  Domain Admins グループのメンバーであるアカウントを使用してローカルにログオンします。  

2.  マウスを使用して、画面の右上隅または右下隅にポインターを移動します。 **Charms**バーが表示されたら、 **[検索]** をクリックします。  

3.  **検索**ボックスに「**コマンドプロンプト**」と入力し、 **[コマンドプロンプト]** を右クリックします。次に、 **[管理者として実行]** をクリックして、管理者特権でのコマンドプロンプトを開きます。  

4.  昇格の承認を求めるメッセージが表示されたら、[**はい]** をクリックします。  

    ![セキュリティで保護されたドメイン管理者グループ](media/Appendix-F--Securing-Domain-Admins-Groups-in-Active-Directory/SAD_73.gif)  

5.  **コマンドプロンプト**ウィンドウで、「 **net use \\\\\<サーバー名\>\c $** 」と入力します。ここで、\<server Name\> は、ネットワーク経由でアクセスしようとしているメンバーサーバーまたはワークステーションの名前です。  

6.  次のスクリーンショットは、表示する必要があるエラーメッセージを示しています。  

    ![セキュリティで保護されたドメイン管理者グループ](media/Appendix-F--Securing-Domain-Admins-Groups-in-Active-Directory/SAD_74.gif)  

##### <a name="verify-deny-log-on-as-a-batch-job-gpo-settings"></a>"バッチジョブとしてログオンを拒否する" GPO 設定を確認する  

GPO の変更の影響を受けたメンバーサーバーまたはワークステーションから、ローカルにログオンします。  

###### <a name="create-a-batch-file"></a>バッチファイルを作成する  

1.  マウスを使用して、画面の右上隅または右下隅にポインターを移動します。 **Charms**バーが表示されたら、 **[検索]** をクリックします。  

2.  **検索**ボックスに「 **notepad**」と入力し、 **[notepad]** をクリックします。  

3.  **メモ帳**で、「 **dir c:** 」と入力します。  

4.  **[ファイル]** をクリックし、 **[名前を付けて保存]** をクリックします。  

5.  [**ファイル**名] フィールドに **\<filename\>.Bat** (\<filename\> は新しいバッチファイルの名前) を入力します。  

###### <a name="schedule-a-task"></a>タスクのスケジュール設定  

1.  マウスを使用して、画面の右上隅または右下隅にポインターを移動します。 **Charms**バーが表示されたら、 **[検索]** をクリックします。  

2.  **検索**ボックスに「 **task scheduler**」と入力し、 **[タスクスケジューラ]** をクリックします。  

    > [!NOTE]  
    > Windows 8 を実行しているコンピューターの場合は、 **[検索]** ボックスに「**スケジュールタスク**」と入力し、 **[タスクのスケジュール]** をクリックします。  

3.  **タスクスケジューラ**のメニューバーで **[アクション]** をクリックし、 **[タスクの作成]** をクリックします。  

4.  **[タスクの作成]** ダイアログボックスで、「 **\<タスク名\>** 」と入力します (\<タスク名\> は新しいタスクの名前です)。  

5.  **[操作]** タブをクリックし、 **[新規作成]** をクリックします。  

6.  **[アクション]** フィールドで、 **[プログラムの開始]** を選択します。  

7.  **[プログラム/スクリプト]** の **[参照]** をクリックし、 **[バッチファイルの作成]** セクションで作成したバッチファイルを探して選択し、 **[開く]** をクリックします。  

8.  **[OK]** をクリックします。  

9. **[全般]** タブをクリックします。  

10. **[セキュリティ]** オプション の **[ユーザーまたはグループの変更]** をクリックします。  

11. Domain Admins グループのメンバーであるアカウントの名前を入力し、名前の **[確認]** をクリックして、 **[OK]** をクリックします。  

12. **[ユーザーがログオンしているかどうかにかかわらず実行する]** を選択し、 **[パスワードを保存]** しない を選択します。 タスクは、ローカルコンピューターのリソースにのみアクセスできます。  

13. **[OK]** をクリックします。  

14. タスクを実行するためのユーザーアカウントの資格情報を要求するダイアログボックスが表示されます。  

15. 資格情報を入力したら、[ **OK]** をクリックします。  

16. 次のようなダイアログボックスが表示されます。  

    ![セキュリティで保護されたドメイン管理者グループ](media/Appendix-F--Securing-Domain-Admins-Groups-in-Active-Directory/SAD_75.gif)  

##### <a name="verify-deny-log-on-as-a-service-gpo-settings"></a>"サービスとしてログオンを拒否する" GPO 設定を確認する  

1.  GPO の変更の影響を受けたメンバーサーバーまたはワークステーションから、ローカルにログオンします。  

2.  マウスを使用して、画面の右上隅または右下隅にポインターを移動します。 **Charms**バーが表示されたら、 **[検索]** をクリックします。  

3.  **検索**ボックスに「**サービス**」と入力し、 **[サービス]** をクリックします。  

4.  **[印刷スプーラ]** を見つけてダブルクリックします。  

5.  **[ログオン]** タブをクリックします。  

6.  **[ログオン]** 方法 で、 **[このアカウント]** オプションを選択します。  

7.  **[参照]** をクリックして、domain Admins グループのメンバーであるアカウントの名前を入力し、 **[名前の確認]** をクリックして、 **[OK]** をクリックします。  

8.  **[パスワード]** と **[パスワードの確認]** 入力 で、選択したアカウントのパスワードを入力し、[ **OK]** をクリックします。  

9. [ **OK]** を3回クリックします。  

10. **[印刷スプーラ]** を右クリックし、 **[再起動]** をクリックします。  

11. サービスを再起動すると、次のようなダイアログボックスが表示されます。  

    ![セキュリティで保護されたドメイン管理者グループ](media/Appendix-F--Securing-Domain-Admins-Groups-in-Active-Directory/SAD_76.gif)  

##### <a name="revert-changes-to-the-printer-spooler-service"></a>プリンタスプーラサービスへの変更を元に戻す  

1.  GPO の変更の影響を受けたメンバーサーバーまたはワークステーションから、ローカルにログオンします。  

2.  マウスを使用して、画面の右上隅または右下隅にポインターを移動します。 **Charms**バーが表示されたら、 **[検索]** をクリックします。  

3.  **検索**ボックスに「**サービス**」と入力し、 **[サービス]** をクリックします。  

4.  **[印刷スプーラ]** を見つけてダブルクリックします。  

5.  **[ログオン]** タブをクリックします。  

6.  **[ログオン]** 方法 で、 **[ローカルシステム]** アカウントを選択し、[ **OK]** をクリックします。  

##### <a name="verify-deny-log-on-locally-gpo-settings"></a>[ローカルログオンを拒否する] GPO 設定を確認する  

1.  GPO の変更の影響を受けたメンバーサーバーまたはワークステーションから、Domain Admins グループのメンバーであるアカウントを使用してローカルでログオンを試みます。 次のようなダイアログボックスが表示されます。  

    ![セキュリティで保護されたドメイン管理者グループ](media/Appendix-F--Securing-Domain-Admins-Groups-in-Active-Directory/SAD_77.gif)  

##### <a name="verify-deny-log-on-through-remote-desktop-services-gpo-settings"></a>GPO 設定の [リモートデスクトップサービスのログオンを拒否する] を確認します。    
1.  マウスを使用して、画面の右上隅または右下隅にポインターを移動します。 **Charms**バーが表示されたら、 **[検索]** をクリックします。  

2.  **検索**ボックスに「**リモートデスクトップ接続**」と入力し、 **[リモートデスクトップ接続]** をクリックします。  

3.  **[コンピューター]** フィールドに、接続先のコンピューターの名前を入力し、 **[接続]** をクリックします。 (コンピューター名の代わりに IP アドレスを入力することもできます)。  

4.  メッセージが表示されたら、Domain Admins グループのメンバーであるアカウントの資格情報を入力します。  

5.  次のようなダイアログボックスが表示されます。  

    ![セキュリティで保護されたドメイン管理者グループ](media/Appendix-F--Securing-Domain-Admins-Groups-in-Active-Directory/SAD_78.gif)  
