---
title: ソフトウェアの制限のポリシーの管理
description: Windows Server のセキュリティ
ms.topic: article
ms.assetid: 8cc22093-67d1-47b6-9ddd-4569b6761ce9
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/12/2016
ms.openlocfilehash: 7af23cd43e6cc61ab25c1efd94d67a480365f08f
ms.sourcegitcommit: dfa48f77b751dbc34409aced628eb2f17c912f08
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/07/2020
ms.locfileid: "87953081"
---
# <a name="administer-software-restriction-policies"></a>ソフトウェアの制限のポリシーの管理

>適用先:Windows Server 2016 では、Windows Server 2012 R2、Windows Server 2012

IT プロフェッショナル向けのこのトピックでは、Windows Server 2008 および Windows Vista 以降のソフトウェア制限ポリシー (SRP) を使用してアプリケーション制御ポリシーを管理する手順について説明します。

## <a name="introduction"></a>はじめに
ソフトウェアの制限のポリシー (SRP) はグループ ポリシー ベースの機能で、ドメイン内のコンピューターで実行されているソフトウェア プログラムを識別し、これらのプログラムを実行する機能を制御します。 ソフトウェアの制限のポリシーを使えば、コンピューターの構成に厳格な制限を加え、指定したアプリケーションに限って実行を許可することができます。 これらは Microsoft Active Directory Domain Services およびグループポリシーと統合されていますが、スタンドアロンコンピューターで構成することもできます。 SRP の詳細については、「[ソフトウェアの制限のポリシー](software-restriction-policies.md)」を参照してください。

Windows Server 2008 R2 および Windows 7 以降では、アプリケーション制御戦略の一部として、または SRP と連携して Windows AppLocker を使用できます。

このトピックの内容は次のとおりです。

-   [ソフトウェアの制限のポリシーを開くには](#BKMK_Open_SRP)

-   [ソフトウェアの制限のポリシーを新規作成するには](#BKMK_Create_SRP)

-   [指定されたファイルの種類を追加または削除するには](#BKMK_Add_Del)

-   [ソフトウェアの制限のポリシーがローカルの管理者に適用されないようにするには](#BKMK_Prevent_Admin)

-   [ソフトウェアの制限のポリシーの既定のセキュリティレベルを変更するには](#BKMK_Sec_Lvl)

-   [ソフトウェアの制限のポリシーを Dll に適用するには](#BKMK_Apply_SRP_DLLs)

SRP を使用して特定のタスクを実行する方法については、以下を参照してください。

-   [ソフトウェアの制限のポリシーの許可/拒否リストとアプリケーションインベントリを決定する](determine-allow-deny-list-and-application-inventory-for-software-restriction-policies.md)

-   [ソフトウェア制限ポリシーの規則の使用](work-with-software-restriction-policies-rules.md)

-   [ソフトウェアの制限のポリシーを使用して、電子メールのウイルスからコンピューターを保護する](use-software-restriction-policies-to-help-protect-your-computer-against-an-email-virus.md)

## <a name="to-open-software-restriction-policies"></a><a name="BKMK_Open_SRP"></a>ソフトウェアの制限のポリシーを開くには

-   [ローカル コンピューターの場合](#BKMK_1)

-   [ドメイン、サイト、または組織単位の場合、メンバーサーバーまたはドメインに参加しているワークステーション上にある](#BKMK_2)

-   [ドメインまたは組織単位の場合、リモートサーバー管理ツールがインストールされているドメインコントローラーまたはワークステーションを使用している](#BKMK_3)

-   [サイトの場合、リモートサーバー管理ツールがインストールされているドメインコントローラーまたはワークステーションを使用している](#BKMK_4)

### <a name="for-your-local-computer"></a><a name="BKMK_1"></a>ローカル コンピューターの場合

1.  [ローカル セキュリティ設定] を開きます。

2.  コンソールツリーで、[**ソフトウェアの制限のポリシー**] をクリックします。

    **どこ。**

    -   セキュリティ設定/ソフトウェアの制限のポリシー

> [!NOTE]
> この手順を実行するには、ローカル コンピューターの Administrators グループのメンバーであるか、適切な権限が委任されている必要があります。

### <a name="for-a-domain-site-or-organizational-unit-and-you-are-on-a-member-server-or-on-a-workstation-that-is-joined-to-a-domain"></a><a name="BKMK_2"></a>ドメイン、サイト、または組織単位の場合、メンバーサーバーまたはドメインに参加しているワークステーション上にある

1.  Microsoft 管理コンソール (MMC) を開きます。

2.  [**ファイル**] メニューの [**スナップインの追加と削除**] をクリックし、[**追加**] をクリックします。

3.  **[ローカル グループ ポリシー オブジェクト エディター]** をクリックし、**[追加]** をクリックします。

4.  **[グループ ポリシー オブジェクトの選択]** で、**[参照]** をクリックします。

5.  [**グループポリシーオブジェクトの参照**] で、適切なドメイン、サイト、または組織単位のグループポリシーオブジェクト (GPO) を選択するか、新しいものを作成して [**完了**] をクリックします。

6.  [**閉じる**] をクリックしてから [**OK**] をクリックします。

7.  コンソールツリーで、[**ソフトウェアの制限のポリシー**] をクリックします。

    **どこ。**

    -   *グループポリシーオブジェクト*[*ComputerName*] ポリシー/コンピューターの構成または

        [ユーザーの構成]/[Windows の設定]/[セキュリティの設定]/[ソフトウェアの制限のポリシー]

> [!NOTE]
> この手順を実行するには、Domain Admins グループのメンバーである必要があります。

### <a name="for-a-domain-or-organizational-unit-and-you-are-on-a-domain-controller-or-on-a-workstation-that-has-the-remote-server-administration-tools-installed"></a><a name="BKMK_3"></a>ドメインまたは組織単位の場合、リモートサーバー管理ツールがインストールされているドメインコントローラーまたはワークステーションを使用している

1.  グループポリシー管理コンソールを開きます。

2.  コンソールツリーで、ソフトウェアの制限のポリシーを開くグループポリシーオブジェクト (GPO) を右クリックします。

3.  **[編集]** をクリックして、編集する GPO を開きます。 このほか、**[新規作成]** をクリックして新しい GPO を作成し、**[編集]** をクリックする方法があります。

4.  コンソールツリーで、[**ソフトウェアの制限のポリシー**] をクリックします。

    **どこ。**

    -   *グループポリシーオブジェクト*[*ComputerName*] ポリシー/コンピューターの構成または

        [ユーザーの構成]/[Windows の設定]/[セキュリティの設定]/[ソフトウェアの制限のポリシー]

> [!NOTE]
> この手順を実行するには、Domain Admins グループのメンバーである必要があります。

### <a name="for-a-site-and-you-are-on-a-domain-controller-or-on-a-workstation-that-has-the-remote-server-administration-tools-installed"></a><a name="BKMK_4"></a>サイトの場合、リモートサーバー管理ツールがインストールされているドメインコントローラーまたはワークステーションを使用している

1.  グループポリシー管理コンソールを開きます。

2.  コンソールツリーで、グループポリシーに設定するサイトを右クリックします。

    **どこ。**

    -   Active Directory サイトとサービス [*Domain_Controller_Name. Domain_Name*]/Sites/Site

3.  **グループポリシーオブジェクトのリンク**のエントリをクリックして、既存のグループポリシーオブジェクト (GPO) を選択し、[**編集**] をクリックします。 このほか、**[新規作成]** をクリックして新しい GPO を作成し、**[編集]** をクリックする方法があります。

4.  コンソールツリーで、[**ソフトウェアの制限のポリシー**] をクリックします。

    **Where**

    -   *グループポリシーオブジェクト*[*ComputerName*] ポリシー/コンピューターの構成または

        [ユーザーの構成]/[Windows の設定]/[セキュリティの設定]/[ソフトウェアの制限のポリシー]

> [!NOTE]
> -   この手順を実行するには、ローカル コンピューターの Administrators グループのメンバーであるか、適切な権限が委任されている必要があります。 コンピューターがドメインに追加されると、Domain Admins グループのメンバーは、この手順を実行できる場合があります。
> -   コンピューターにログオンするユーザーに関係なく、コンピューターに適用されるポリシー設定を設定するには、[**コンピューターの構成**] をクリックします。
> -   ログオンするコンピューターに関係なく、ユーザーに適用されるポリシー設定を設定するには、[**ユーザーの構成**] をクリックします。

## <a name="to-create-new-software-restriction-policies"></a><a name="BKMK_Create_SRP"></a>ソフトウェアの制限のポリシーを新規作成するには

1.  [ソフトウェアの制限のポリシー] を開きます。

2.  **[操作]** メニューの **[新しいソフトウェアの制限のポリシー]** をクリックします。

> [!WARNING]
> -   この手順の実行にあたっては、環境に応じて異なる管理者資格情報が必要になります。
>
>     -   ローカルコンピューターに対して新しいソフトウェアの制限のポリシーを作成する場合、この手順を実行するには、ローカルの**Administrators**グループのメンバーシップ、またはそれと同等のメンバーシップが最低限必要です。
>     -   ドメインに参加しているコンピューターについてソフトウェアの制限のポリシーを新規作成する場合には、Domain Admins グループのメンバーのみこの手順を実行できます。
> -   グループ ポリシー オブジェクト (GPO) についてソフトウェアの制限のポリシーが作成済みである場合には、**[操作]** メニューに **[新しいソフトウェアの制限のポリシー]** コマンドが表示されません。 GPO に適用されているソフトウェアの制限のポリシーを削除するには、**[ソフトウェアの制限のポリシー]** を右クリックし、**[ソフトウェアの制限のポリシーを削除する]** をクリックします。 GPO のソフトウェアの制限のポリシーを削除すると、その GPO のソフトウェアの制限のポリシー規則もすべて削除されます。 ソフトウェアの制限のポリシーを削除した後には、その GPO についてソフトウェアの制限のポリシーを新規作成できます。

## <a name="to-add-or-delete-a-designated-file-type"></a><a name="BKMK_Add_Del"></a>指定されたファイルの種類を追加または削除するには

1.  [ソフトウェアの制限のポリシー] を開きます。

2.  詳細ウィンドウで、**[指定されたファイルの種類]** をダブルクリックします。

3.  以下のいずれかを実行します。

    -   ファイルの種類を追加するには、**[ファイル名拡張子]** でファイル名拡張子を入力し、**[追加]** をクリックします。

    -   ファイルの種類を削除するには、**[指定されたファイルの種類]** でファイルの種類をクリックしてから、**[削除]** をクリックします。

> [!NOTE]
> -   この手順の実行にあたっては、指定したファイルの種類を追加または削除する環境に応じて異なる管理者資格情報が必要になります。
>
>     -   ローカルコンピューターに対して指定されたファイルの種類を追加または削除する場合、この手順を実行するには、ローカルの**Administrators**グループのメンバーシップ、またはそれと同等のメンバーシップが最低限必要です。
>     -   ドメインに参加しているコンピューターについてソフトウェアの制限のポリシーを新規作成する場合には、Domain Admins グループのメンバーのみこの手順を実行できます。
> -   グループ ポリシー オブジェクト (GPO) についてソフトウェアの制限のポリシーの設定を作成していない場合には、この設定の新規作成が必要になることがあります。
> -   指定したファイルの種類の一覧は、GPO のコンピューターの構成とユーザーの構成の両方の規則によって共有されます。

## <a name="to-prevent-software-restriction-policies-from-applying-to-local-administrators"></a><a name="BKMK_Prevent_Admin"></a>ソフトウェアの制限のポリシーがローカルの管理者に適用されないようにするには

1.  [ソフトウェアの制限のポリシー] を開きます。

2.  詳細ウィンドウで、**[実施]** をダブルクリックします。

3.  **[ソフトウェアの制限のポリシーの適用ユーザー]** で、**[ローカル管理者を除くすべてのユーザー]** をクリックします。

> [!WARNING]
> -   この手順を完了するには、少なくともローカルの **Administrators** グループ、またはそれと同等のメンバーシップが必要です。
> -   グループ ポリシー オブジェクト (GPO) についてソフトウェアの制限のポリシーの設定を作成していない場合には、この設定の新規作成が必要になることがあります。
> -   ユーザーが組織内にあるコンピューターのローカル Administrators グループのメンバーになることが普通である場合には、このオプションを有効にしないこともあります。
> -   ローカル コンピューターに対してソフトウェアの制限のポリシーの設定を定義するときには、この手順を実行するとローカル管理者にソフトウェアの制限のポリシーが適用されなくなります。 ネットワークのソフトウェアの制限のポリシー設定を定義する場合は、グループポリシーを使用して、セキュリティグループのメンバーシップに基づいてユーザーポリシー設定をフィルター処理します。

## <a name="to-change-the-default-security-level-of-software-restriction-policies"></a><a name="BKMK_Sec_Lvl"></a>ソフトウェアの制限のポリシーの既定のセキュリティレベルを変更するには

1.  [ソフトウェアの制限のポリシー] を開きます。

2.  詳細ウィンドウで、**[セキュリティ レベル]** をダブルクリックします。

3.  既定に設定するセキュリティ レベルを右クリックし、**[既定に設定]** をクリックします。

> [!CAUTION]
> 一部のディレクトリでは既定のセキュリティ レベルを **[許可しない]** に設定すると、オペレーティング システムに悪影響を及ぼす可能性があります。

> [!NOTE]
> -   この手順の実行にあたっては、ソフトウェアの制限のポリシーの既定のセキュリティ レベルを変更する環境に応じて異なる管理者資格情報が必要になります。
> -   このグループ ポリシー オブジェクト (GPO) についてソフトウェアの制限のポリシーの設定を作成していない場合には、この設定の新規作成が必要になることがあります。
> -   現在既定値に設定されているセキュリティ レベルは、詳細ウィンドウで黒丸の中にチェック マークを付けて表示されます。 現在既定値に設定されているセキュリティ レベルを右クリックした場合には、メニューに **[既定に設定]** コマンドは表示されません。
> -   ソフトウェアの制限のポリシーの規則は、既定のセキュリティレベルに対する例外を指定するために作成されます。 既定のセキュリティ レベルが **[制限なし]** に設定されている場合には、規則では実行を許可しないソフトウェアを指定できます。 既定のセキュリティ レベルが **[許可しない]** に設定されている場合には、規則では実行を許可するソフトウェアを指定できます。
> -   インストール時には、システム上の全ファイルについてソフトウェアの制限のポリシーの既定のセキュリティ レベルが **[制限なし]** に設定されています。

## <a name="to-apply-software-restriction-policies-to-dlls"></a><a name="BKMK_Apply_SRP_DLLs"></a>ソフトウェアの制限のポリシーを Dll に適用するには

1.  [ソフトウェアの制限のポリシー] を開きます。

2.  詳細ウィンドウで、**[実施]** をダブルクリックします。

3.  **[ソフトウェアの制限のポリシーの適用ユーザー]** で、**[ソフトウェアのファイルすべて]** をクリックします。

> [!NOTE]
> -   この手順を実行するには、ローカル コンピューターの Administrators グループのメンバーであるか、適切な権限が委任されている必要があります。 コンピューターがドメインに追加されると、Domain Admins グループのメンバーは、この手順を実行できる場合があります。
> -   既定では、ソフトウェアの制限のポリシーによってダイナミック リンク ライブラリ (DLL) がチェックされることはありません。 DLL をチェックする設定にしていると、DLL が読み込まれるたびにソフトウェアの制限のポリシーの評価が必要になるため、システムのパフォーマンスが低下するおそれがあります。 ただし、DLL を標的とするウイルスを受信することが心配であれば、DLL のチェックを有効にすることが考えられます。 既定のセキュリティレベルを [**許可**しない] に設定し、dll チェックを有効にする場合は、各 dll の実行を許可するソフトウェアの制限のポリシー規則を作成する必要があります。


